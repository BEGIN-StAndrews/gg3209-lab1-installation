name: Lab 1 Validation
on: [push]
jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2
    - name: Set up Python
      uses: actions/setup-python@v2
      with:
        python-version: '3.9'
    - name: Install dependencies
      run: |
        pip install jupyter nbconvert pandas numpy matplotlib geopandas folium
    - name: Check required files
      run: |
        echo "Checking for required files..."
        test -f my_first_notebook.ipynb || { echo "‚ùå Notebook missing"; exit 1; }
        test -f my_first_notebook.pdf || { echo "‚ùå PDF missing"; exit 1; }
        ls screenshot_*.png || { echo "‚ùå Screenshots missing"; exit 1; }
        echo "‚úÖ All required files present"
    - name: Validate notebook
      run: |
        echo "Testing notebook execution..."
        jupyter nbconvert --to notebook --execute my_first_notebook.ipynb
        echo "‚úÖ Notebook runs successfully"
    - name: Check for anti-AI measures
      run: |
        echo "Checking for verification elements..."
        grep -q "datetime.datetime.now()" my_first_notebook.ipynb || { echo "‚ùå Timestamp verification missing"; exit 1; }
        grep -q "platform.node()" my_first_notebook.ipynb || { echo "‚ùå Computer name verification missing"; exit 1; }
        echo "‚úÖ Verification elements found"
    - name: Success
      run: echo "üéâ Lab 1 validation passed!"
